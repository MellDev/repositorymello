<section id="projects" class="projects">
  <div class="container">
    <h2 class="section-title">{{ 'projects.title' | translate }}</h2>
    
    <div *ngIf="loading" class="loading-container">
      <div class="loading"></div>
      <p>{{ 'projects.loading' | translate }}</p>
    </div>

    <div *ngIf="error" class="error-message">
      {{ error }}
    </div>

    <div *ngIf="!loading && !error" class="projects-grid">
      <div *ngFor="let project of projects" class="project-card">
        <div class="project-image">
          <img *ngIf="project.image_url" [src]="project.image_url" [alt]="project.name" />
          <i *ngIf="!project.image_url" class="fas" [ngClass]="getIcon(project.category)"></i>
        </div>
        <h3>{{ project.name }}</h3>
        <p>{{ project.description }}</p>
        <div class="project-tags">
          <span *ngFor="let tech of project.technologies.slice(0, 4)" class="tag">{{ tech }}</span>
          <span *ngIf="project.technologies.length > 4" class="tag">+{{ project.technologies.length - 4 }}</span>
        </div>
        <div class="project-actions">
          <a href="#contact" class="btn btn-small btn-primary" (click)="scrollToContact($event)">
            <i class="fas fa-envelope"></i> {{ 'projects.contact' | translate }}
          </a>
        </div>
      </div>
    </div>
  </div>
</section>
